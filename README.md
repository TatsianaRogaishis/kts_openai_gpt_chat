# Чат с GPT-4o mini

Тестовое задание. Простейший чат с использованием OpenAI и GPT-4o mini.

## Описание

Данный бэкэнд сервис предоставляет функционал чата через REST API и WebSocket,
хранить историю сообщений в базе данных SQlite.

## Начало работы

### Зависимости

* Для запуска сервиса понадобиться Docker.
* ОС не имеет значения.
* Можно запускать код без Docker, но понадобиться предустановленный Python3, установка библиотек из requirements.txt, запуск командой uvicorn main:app --reload

### Установка

* Загрузить исходники можно отсюда https://github.com/TatsianaRogaishis/kts_openai_gpt_chat
* В файле .env установить значение OPENAI_API_KEY, вставить значение своего OpenAI key (информацию про генерацию ключа можно найти ниже в разделе [`Помощь`](#помощь))


### Запуск
#### С помощью Docker

* Необходимо иметь/установить Docker на компьютере
* Запустить cmd и перейти в папку с исходниками
* Выполнить команду 'docker build .' (или 'docker build image_name')  (если не задавать имя образа, то докер сам его создаст и напишет в последней строчке вывода)
* Выполнить команду 'docker run -dp 8000:8000 image_name'
* Можно получить доступ к сервису по ссылке http://localhost:8000/
```
docker build image_name
docker run -dp 8000:8000 image_name
```

#### Без Docker
* Необходимо иметь/установить Python3.10+ на компьютере
* Запустить cmd и перейти в папку с исходниками
* Создать виртуальное окружение (win: 'python -m venv myvenv')
* Активировать виртуальное окружение (win: '.\myvenv\Scripts\activate')
* Установить зависимости из файла requirements.txt ('pip install -r requirements.txt')
* Запустить сервис ('uvicorn main:app --reload')
```
python -m venv myvenv
.\myvenv\Scripts\activate
pip install -r requirements.txt
uvicorn main:app --reload
```

## Помощь

**Внимание!!**
ChatGPT может не работать на территории России и Беларуси. Чтобы решить проблему, необходимо использовать ВПН.


#### Как получить API key для OpenAI
* Создать аккаунт на [OpenAI](https://openai.com/) сайте
* Подвердить аккаунт через имейл
* Войти в свой аккаунт
* Перейти в раздел API (**View API keys**)
* Сгенерировать новый API key (**Create new secret key**)
* После нажатия кнопки нужно дать имя своему новому API key и подтвердить создание
* Скопировать сгенерированный API key и использовать его
* ! Установить способы оплаты, чтобы была возможность использовать ключ и сервис

#### Подробное описание endpoint'ов сервиса можно найти [здесь](README_endpoints.md)
#### А также по [ссылке](http://localhost:8000/docs), где содержится описание и можно все протестировать

## Авторы

Tatsiana Karaliova [tanya.karaliova@gmail.com]  


## Версионность

* 0.1
    * Initial Release
